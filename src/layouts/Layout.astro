---
import Navbar from '@/components/Navbar.astro';
import '../styles/global.css';
import Footer from '@/components/Footer.astro';
const { title } = Astro.props;
---

<html lang="en">
	<head>
	  <script is:inline type="text/partytown" async src="https://www.googletagmanager.com/gtag/js?id=G-021QZDYMWM"></script>
	  <script is:inline type="text/partytown">
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
  
		gtag("consent", "default", {
		  ad_storage: "denied",
		  ad_user_data: "denied",
		  ad_personalization: "denied",
		  analytics_storage: "denied",
		});
  
		gtag('config', 'G-021QZDYMWM');
	  </script>
	</head>
	<body>
		<Navbar />

		<slot />

		<Footer />

		<script is:inline>
			document.addEventListener('click', (e) => {
			  const link = e.target.closest('a.header-anchor');
			  if (!link) return;
		  
			  e.preventDefault();
		  
			  const href = link.getAttribute('href');
			  const url  = window.location.origin + window.location.pathname + href;
		  
			  // copy to clipboard
			  navigator.clipboard.writeText(url).then(() => {
				const msg = document.createElement('div');
				msg.textContent = 'Link copied!';
				Object.assign(msg.style, {
				  position: 'fixed',
				  bottom: '1rem',
				  right: '1rem',
				  background: 'rgba(0,0,0,0.8)',
				  color: 'white',
				  padding: '0.5rem 1rem',
				  borderRadius: '0.25rem',
				  zIndex: '9999',
				});
				document.body.append(msg);
				setTimeout(() => msg.remove(), 2000);
			  });
			});
		  </script>
		  
	</body>
</html>

