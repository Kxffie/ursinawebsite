---
import Layout from '@/layouts/Layout.astro';
import Sidebar from '@/components/Sidebar.astro';
import { getSidebarData } from '@/lib/getSidebarData';

import {
	BookOpen,
	Eye,
	PlayCircle,
	Bug,
	MessageCircleCode,
	Search,
	FolderSearch
} from 'lucide-react';
import LinkSection from '@/components/LinkSection.astro';

const base = 'api';
const { categories, grouped } = await getSidebarData(base);

/* helper link arrays */
const helpLinks = [
	{
		title: 'Docs',
		href: '/docs',
		icon: BookOpen,
		desc: 'Beginner docs to help start your next project.'
	},
	{
		title: 'Samples',
		href: '/samples',
		icon: Eye,
		desc: 'Explore sample projects to see how things work.'
	},
	{
		title: 'Tutorials',
		href: '/tutorials',
		icon: PlayCircle,
		desc: 'Follow step-by-step tutorials to get started quickly.',
		disabled: true
	}
];

const supportLinks = [
	{
		title: 'GitHub Issues',
		href: 'https://github.com/pokepetter/ursina/issues',
		icon: Bug,
		desc: 'Report bugs or request features.'
	},
	{
		title: 'Discord',
		href: 'https://discord.gg/ursina',
		icon: MessageCircleCode,
		desc: 'Join our community for help and support.'
	}
];
---
<Layout
	title="API Reference"
	heroImage="/heros/value_of_life_screenshot-lossy.jpg"
	heroHeight={30}
	heroHeightMobile={25}
	primaryText="API Reference"
	subText="Detailed documentation for every class, function and module."
>
	<section class="py-16 bg-background/95 dark:bg-background">
		<div class="container mx-auto px-6 flex gap-8">
			<Sidebar {categories} {grouped} base={base} />

			<main class="flex-1 space-y-12">
				<section>
					<h2 class="text-2xl font-bold mb-2">Welcome to the API Reference</h2>
					<p class="text-lg">
						Browse detailed docs for every class, function and module.
					</p>
				</section>

				<!-- <section>
					<h3 class="text-2xl font-bold mb-6">Quick search tips</h3>

					<div class="grid gap-6 md:grid-cols-2">
						{searchTips.map(({ icon: Icon, title, desc, example }) => (
							<div class="rounded-lg bg-card p-6 space-y-4">
								<div class="flex items-center">
									<Icon className="h-5 w-5 text-primary mr-2" />
									<h4 class="text-xl font-semibold">{title}</h4>
								</div>
								<p>{desc}</p>
								<input
									type="text"
									value={example}
									readonly
									class="w-full rounded border border-border bg-input text-foreground px-3 py-2 cursor-default select-none"
								/>
							</div>
						))}
					</div>
				</section> -->

				<LinkSection
					title="Need help?"
					subtitle="Check out these resources for examples, guides, and tutorials."
					links={helpLinks}
					columns={3}
				/>
      
				<LinkSection
					title="Something wrong?"
					subtitle="If you find a bug or have a suggestion, please let us know."
					links={supportLinks}
					columns={2}
				/>
			</main>
		</div>
	</section>
</Layout>
