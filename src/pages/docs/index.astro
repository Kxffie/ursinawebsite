---
import Layout from '@/layouts/Layout.astro';
import Sidebar from '@/components/Sidebar.astro';
import { getSidebarData } from '@/lib/getSidebarData';
import {
	BookOpen,
	Eye,
	PlayCircle,
	Bug,
	MessageCircleCode,
	Search,
	FolderSearch
} from 'lucide-react';
import LinkSection from '@/components/LinkSection.astro';

const base = 'docs';
const { categories, grouped } = await getSidebarData(base);

const helpLinks = [
	{
		title: 'API Reference',
		href: '/api',
		icon: BookOpen,
		desc: 'More detailed documentation page.'
	},
	{
		title: 'Samples',
		href: '/samples',
		icon: Eye,
		desc: 'Explore sample projects to see how things work.'
	},
	{
		title: 'Tutorials',
		href: '/tutorials',
		icon: PlayCircle,
		desc: 'Follow step-by-step tutorials to get started quickly.',
		disabled: true
	}
];

const supportLinks = [
	{
		title: 'GitHub Issues',
		href: 'https://github.com/pokepetter/ursina/issues',
		icon: Bug,
		desc: 'Report bugs or request features.'
	},
	{
		title: 'Discord',
		href: 'https://discord.gg/ursina',
		icon: MessageCircleCode,
		desc: 'Join our community for help and support.'
	}
];

const searchTips = [
	{
		icon: Search,
		title: 'General search',
		desc: 'Enter any word or phrase to scan every page.',
		example: 'Install'
	},
	{
		icon: FolderSearch,
		title: 'Category search',
		desc: 'Add a category and a slash to focus on one group.',
		example: 'Animation/2D'
	}
];
---
<Layout
	title="Documentation"
	heroImage="/heros/value_of_life_screenshot-lossy.jpg"
	heroHeight={30}
	heroHeightMobile={25}
	primaryText="Documentation"
	subText="Beginner guide to help you get started."
>
	<section class="py-16 bg-background/95 dark:bg-background">
		<div class="container mx-auto px-6 flex gap-8">
			<Sidebar {categories} {grouped} base={base} />

			<main class="flex-1 space-y-12">
				<!-- Intro -->
				<section>
					<h2 class="text-2xl font-bold mb-2">Welcome to the Docs</h2>
					<p class="text-lg">
						A beginner guide to starting your first Ursina project.
					</p>
				</section>

				<LinkSection
					title="Need help?"
					subtitle="Check out these resources for examples, guides, and tutorials."
					links={helpLinks}
					columns={3}
				/>
      
				<LinkSection
					title="Something wrong?"
					subtitle="If you find a bug or have a suggestion, please let us know."
					links={supportLinks}
					columns={2}
				/>
			</main>
		</div>
	</section>
</Layout>
